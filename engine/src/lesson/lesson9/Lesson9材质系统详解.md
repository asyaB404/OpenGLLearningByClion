# Lesson 9: æè´¨ç³»ç»Ÿï¼ˆMaterialsï¼‰è¯¦è§£

## ğŸ“š ç›®å½•
- [æ¦‚è¿°](#æ¦‚è¿°)
- [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
- [ä¸ Lesson 8 çš„å¯¹æ¯”](#ä¸-lesson-8-çš„å¯¹æ¯”)
- [ä¸ºä»€ä¹ˆéœ€è¦æè´¨ç³»ç»Ÿ](#ä¸ºä»€ä¹ˆéœ€è¦æè´¨ç³»ç»Ÿ)
- [å¦‚ä½•å®ç°æè´¨ç³»ç»Ÿ](#å¦‚ä½•å®ç°æè´¨ç³»ç»Ÿ)
- [è¯¦ç»†ä»£ç è§£æ](#è¯¦ç»†ä»£ç è§£æ)
- [æ€è€ƒä¸æ€»ç»“](#æ€è€ƒä¸æ€»ç»“)

---

## æ¦‚è¿°

Lesson 9 å¼•å…¥äº†**æè´¨ç³»ç»Ÿï¼ˆMaterial Systemï¼‰**ï¼Œè¿™æ˜¯å…‰ç…§ç³»ç»Ÿçš„é‡è¦æ‰©å±•ã€‚ä¸ Lesson 8 ç›¸æ¯”ï¼ŒLesson 9 å°†ç‰©ä½“é¢œè‰²å’Œå…‰æºé¢œè‰²åˆ†ç¦»ï¼Œä½¿ç”¨**ç»“æ„ä½“ï¼ˆStructï¼‰**æ¥ç»„ç»‡æè´¨å’Œå…‰æºçš„å±æ€§ï¼Œä½¿å¾—å…‰ç…§è®¡ç®—æ›´åŠ çµæ´»å’ŒçœŸå®ã€‚

### æ ¸å¿ƒæ”¹è¿›

1. **åˆ†ç¦»ç‰©ä½“é¢œè‰²å’Œå…‰æºé¢œè‰²**ï¼šä¸å†ä½¿ç”¨ç®€å•çš„ `objectColor Ã— lightColor`
2. **ä½¿ç”¨ç»“æ„ä½“ç»„ç»‡æ•°æ®**ï¼šMaterial å’Œ Light ç»“æ„ä½“
3. **ç‹¬ç«‹çš„åå°„ç³»æ•°**ï¼šç¯å¢ƒå…‰ã€æ¼«åå°„ã€é•œé¢åå°„å„è‡ªæœ‰ç‹¬ç«‹çš„ç³»æ•°
4. **åŠ¨æ€å…‰æºé¢œè‰²**ï¼šå…‰æºé¢œè‰²éšæ—¶é—´å˜åŒ–ï¼Œå±•ç¤ºæè´¨ç³»ç»Ÿçš„çµæ´»æ€§

---

## æ ¸å¿ƒæ¦‚å¿µ

### 1. æè´¨ï¼ˆMaterialï¼‰

æè´¨å®šä¹‰äº†ç‰©ä½“**å¦‚ä½•åå°„å…‰çº¿**ï¼ŒåŒ…æ‹¬ï¼š

- **ambientï¼ˆç¯å¢ƒå…‰åå°„ç³»æ•°ï¼‰**ï¼šç‰©ä½“å¯¹ç¯å¢ƒå…‰çš„åå°„èƒ½åŠ›
- **diffuseï¼ˆæ¼«åå°„ç³»æ•°ï¼‰**ï¼šç‰©ä½“å¯¹æ¼«åå°„å…‰çš„åå°„èƒ½åŠ›
- **specularï¼ˆé•œé¢åå°„ç³»æ•°ï¼‰**ï¼šç‰©ä½“å¯¹é•œé¢åå°„å…‰çš„åå°„èƒ½åŠ›
- **shininessï¼ˆé«˜å…‰æŒ‡æ•°ï¼‰**ï¼šæ§åˆ¶é«˜å…‰çš„å¤§å°å’Œé”åº¦

### 2. å…‰æºï¼ˆLightï¼‰

å…‰æºå®šä¹‰äº†**å…‰æºçš„å±æ€§**ï¼ŒåŒ…æ‹¬ï¼š

- **positionï¼ˆä½ç½®ï¼‰**ï¼šå…‰æºåœ¨ä¸–ç•Œç©ºé—´ä¸­çš„ä½ç½®
- **ambientï¼ˆç¯å¢ƒå…‰é¢œè‰²ï¼‰**ï¼šå…‰æºå‘å‡ºçš„ç¯å¢ƒå…‰é¢œè‰²
- **diffuseï¼ˆæ¼«åå°„é¢œè‰²ï¼‰**ï¼šå…‰æºå‘å‡ºçš„æ¼«åå°„å…‰é¢œè‰²
- **specularï¼ˆé•œé¢åå°„é¢œè‰²ï¼‰**ï¼šå…‰æºå‘å‡ºçš„é•œé¢åå°„å…‰é¢œè‰²

### 3. å…‰ç…§è®¡ç®—

æœ€ç»ˆé¢œè‰² = ç¯å¢ƒå…‰ + æ¼«åå°„ + é•œé¢åå°„

å…¶ä¸­ï¼š
- **ç¯å¢ƒå…‰** = `light.ambient Ã— material.ambient`
- **æ¼«åå°„** = `light.diffuse Ã— (diff Ã— material.diffuse)`
- **é•œé¢åå°„** = `light.specular Ã— (spec Ã— material.specular)`

---

## ä¸ Lesson 8 çš„å¯¹æ¯”

### å¯¹æ¯”è¡¨æ ¼

| ç‰¹æ€§ | Lesson 8 | Lesson 9 |
|------|----------|----------|
| **æ•°æ®ç»„ç»‡** | ç‹¬ç«‹çš„ uniform å˜é‡ | Material å’Œ Light ç»“æ„ä½“ |
| **ç‰©ä½“é¢œè‰²** | `objectColor`ï¼ˆå•ä¸€é¢œè‰²ï¼‰ | `material.ambient/diffuse/specular`ï¼ˆåˆ†åˆ«è®¾ç½®ï¼‰ |
| **å…‰æºé¢œè‰²** | `lightColor`ï¼ˆå•ä¸€é¢œè‰²ï¼‰ | `light.ambient/diffuse/specular`ï¼ˆåˆ†åˆ«è®¾ç½®ï¼‰ |
| **é«˜å…‰æŒ‡æ•°** | ç¡¬ç¼–ç ï¼ˆ32ï¼‰ | `material.shininess`ï¼ˆå¯é…ç½®ï¼‰ |
| **çµæ´»æ€§** | ä½ï¼ˆæ‰€æœ‰é¢ä½¿ç”¨ç›¸åŒé¢œè‰²ï¼‰ | é«˜ï¼ˆå¯ä»¥ä¸ºä¸åŒæè´¨è®¾ç½®ä¸åŒå±æ€§ï¼‰ |
| **çœŸå®æ€§** | ä¸­ç­‰ | é«˜ï¼ˆæ›´æ¥è¿‘çœŸå®æè´¨ï¼‰ |
| **ä»£ç ç»„ç»‡** | ç®€å• | æ›´ç»“æ„åŒ– |

### è¯¦ç»†å¯¹æ¯”

#### 1. ç€è‰²å™¨ Uniform å˜é‡

**Lesson 8ï¼š**
```glsl
uniform vec3 objectColor;  // ç‰©ä½“é¢œè‰²
uniform vec3 lightColor;   // å…‰æºé¢œè‰²
uniform vec3 lightPos;     // å…‰æºä½ç½®
uniform vec3 viewPos;      // ç›¸æœºä½ç½®
```

**Lesson 9ï¼š**
```glsl
struct Material {
    vec3 ambient;
    vec3 diffuse;
    vec3 specular;
    float shininess;
};

struct Light {
    vec3 position;
    vec3 ambient;
    vec3 diffuse;
    vec3 specular;
};

uniform Material material;  // æè´¨
uniform Light light;         // å…‰æº
uniform vec3 viewPos;        // ç›¸æœºä½ç½®
```

#### 2. å…‰ç…§è®¡ç®—

**Lesson 8ï¼š**
```glsl
// ç¯å¢ƒå…‰
float ambientStrength = 0.1;
vec3 ambient = ambientStrength * lightColor;

// æ¼«åå°„
vec3 diffuse = diff * lightColor;

// é•œé¢åå°„
float specularStrength = 0.5;
vec3 specular = specularStrength * spec * lightColor;

// æœ€ç»ˆé¢œè‰²
vec3 result = (ambient + diffuse + specular) * objectColor;
```

**Lesson 9ï¼š**
```glsl
// ç¯å¢ƒå…‰
vec3 ambient = light.ambient * material.ambient;

// æ¼«åå°„
vec3 diffuse = light.diffuse * (diff * material.diffuse);

// é•œé¢åå°„
vec3 specular = light.specular * (spec * material.specular);

// æœ€ç»ˆé¢œè‰²
vec3 result = ambient + diffuse + specular;
```

**å…³é”®åŒºåˆ«ï¼š**
- Lesson 8ï¼šå…ˆè®¡ç®—å…‰ç…§å¼ºåº¦ï¼Œæœ€åä¹˜ä»¥ç‰©ä½“é¢œè‰²
- Lesson 9ï¼šæ¯ä¸ªå…‰ç…§åˆ†é‡éƒ½åˆ†åˆ«ä¹˜ä»¥å¯¹åº”çš„æè´¨ç³»æ•°å’Œå…‰æºé¢œè‰²

#### 3. C++ ä»£ç è®¾ç½®

**Lesson 8ï¼š**
```cpp
lightingShader.setVec3("objectColor", 1.0f, 0.5f, 0.31f);
lightingShader.setVec3("lightColor", 1.0f, 1.0f, 1.0f);
lightingShader.setVec3("lightPos", lightPos);
```

**Lesson 9ï¼š**
```cpp
// å…‰æºå±æ€§
lightingShader.setVec3("light.position", lightPos);
lightingShader.setVec3("light.ambient", ambientColor);
lightingShader.setVec3("light.diffuse", diffuseColor);
lightingShader.setVec3("light.specular", 1.0f, 1.0f, 1.0f);

// æè´¨å±æ€§
lightingShader.setVec3("material.ambient", 1.0f, 0.5f, 0.31f);
lightingShader.setVec3("material.diffuse", 1.0f, 0.5f, 0.31f);
lightingShader.setVec3("material.specular", 0.5f, 0.5f, 0.5f);
lightingShader.setFloat("material.shininess", 32.0f);
```

---

## ä¸ºä»€ä¹ˆéœ€è¦æè´¨ç³»ç»Ÿï¼Ÿ

### 1. çœŸå®ä¸–ç•Œçš„éœ€æ±‚

åœ¨çœŸå®ä¸–ç•Œä¸­ï¼Œä¸åŒæè´¨å¯¹å…‰çº¿çš„åå°„æ–¹å¼ä¸åŒï¼š

- **é‡‘å±**ï¼šé•œé¢åå°„å¼ºï¼Œæ¼«åå°„å¼±
- **å¡‘æ–™**ï¼šæ¼«åå°„å’Œé•œé¢åå°„éƒ½è¾ƒå¼º
- **æœ¨å¤´**ï¼šæ¼«åå°„å¼ºï¼Œé•œé¢åå°„å¼±
- **å¸ƒæ–™**ï¼šä¸»è¦æ˜¯æ¼«åå°„ï¼Œå‡ ä¹æ²¡æœ‰é•œé¢åå°„

**Lesson 8 çš„é—®é¢˜ï¼š**
- æ‰€æœ‰æè´¨éƒ½ä½¿ç”¨ç›¸åŒçš„åå°„æ–¹å¼
- æ— æ³•åŒºåˆ†ä¸åŒæè´¨

**Lesson 9 çš„è§£å†³æ–¹æ¡ˆï¼š**
- æ¯ç§æè´¨å¯ä»¥è®¾ç½®ä¸åŒçš„åå°„ç³»æ•°
- å¯ä»¥æ¨¡æ‹Ÿä¸åŒæè´¨çš„æ•ˆæœ

### 2. çµæ´»æ€§éœ€æ±‚

**Lesson 8 çš„é™åˆ¶ï¼š**
```glsl
// æ‰€æœ‰å…‰ç…§åˆ†é‡ä½¿ç”¨ç›¸åŒçš„å…‰æºé¢œè‰²
vec3 ambient = ambientStrength * lightColor;
vec3 diffuse = diff * lightColor;
vec3 specular = specularStrength * spec * lightColor;
```

**é—®é¢˜ï¼š**
- æ— æ³•ä¸ºç¯å¢ƒå…‰ã€æ¼«åå°„ã€é•œé¢åå°„è®¾ç½®ä¸åŒçš„é¢œè‰²
- ä¾‹å¦‚ï¼šæ— æ³•å®ç°"ç¯å¢ƒå…‰æ˜¯è“è‰²ï¼Œä½†æ¼«åå°„æ˜¯çº¢è‰²"çš„æ•ˆæœ

**Lesson 9 çš„è§£å†³æ–¹æ¡ˆï¼š**
```glsl
// æ¯ä¸ªå…‰ç…§åˆ†é‡å¯ä»¥ä½¿ç”¨ä¸åŒçš„å…‰æºé¢œè‰²
vec3 ambient = light.ambient * material.ambient;
vec3 diffuse = light.diffuse * (diff * material.diffuse);
vec3 specular = light.specular * (spec * material.specular);
```

### 3. ä»£ç ç»„ç»‡éœ€æ±‚

**Lesson 8ï¼š**
- Uniform å˜é‡åˆ†æ•£ï¼Œéš¾ä»¥ç®¡ç†
- æ·»åŠ æ–°å±æ€§éœ€è¦ä¿®æ”¹å¤šä¸ªåœ°æ–¹

**Lesson 9ï¼š**
- ä½¿ç”¨ç»“æ„ä½“ç»„ç»‡ç›¸å…³æ•°æ®
- ä»£ç æ›´æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- æ˜“äºæ‰©å±•ï¼ˆæ·»åŠ æ–°å±æ€§åªéœ€åœ¨ç»“æ„ä½“ä¸­æ·»åŠ ï¼‰

### 4. æ€§èƒ½è€ƒè™‘

è™½ç„¶ Lesson 9 çš„è®¡ç®—ç¨å¾®å¤æ‚ä¸€äº›ï¼Œä½†ï¼š
- ç»“æ„ä½“åœ¨ GPU ä¸Šç»„ç»‡è‰¯å¥½
- ç°ä»£ GPU å¯ä»¥é«˜æ•ˆå¤„ç†ç»“æ„ä½“
- ä»£ç æ¸…æ™°åº¦å¸¦æ¥çš„å¥½å¤„è¿œå¤§äºå¾®å°çš„æ€§èƒ½å¼€é”€

---

## å¦‚ä½•å®ç°æè´¨ç³»ç»Ÿ

### æ­¥éª¤ 1ï¼šå®šä¹‰ç»“æ„ä½“ï¼ˆGLSLï¼‰

åœ¨ç‰‡æ®µç€è‰²å™¨ä¸­å®šä¹‰ Material å’Œ Light ç»“æ„ä½“ï¼š

```glsl
// æè´¨å±æ€§
struct Material {
    vec3 ambient;    // ç¯å¢ƒå…‰åå°„ç³»æ•°
    vec3 diffuse;    // æ¼«åå°„ç³»æ•°
    vec3 specular;   // é•œé¢åå°„ç³»æ•°
    float shininess; // é«˜å…‰æŒ‡æ•°
};

// å…‰æºå±æ€§
struct Light {
    vec3 position;   // å…‰æºä½ç½®
    vec3 ambient;    // ç¯å¢ƒå…‰é¢œè‰²
    vec3 diffuse;    // æ¼«åå°„é¢œè‰²
    vec3 specular;   // é•œé¢åå°„é¢œè‰²
};
```

**ä¸ºä»€ä¹ˆä½¿ç”¨ç»“æ„ä½“ï¼Ÿ**
- ç»„ç»‡ç›¸å…³æ•°æ®
- ä»£ç æ›´æ¸…æ™°
- æ˜“äºä¼ é€’å’Œç®¡ç†

### æ­¥éª¤ 2ï¼šå£°æ˜ Uniform å˜é‡

```glsl
uniform Material material;  // æè´¨
uniform Light light;         // å…‰æº
uniform vec3 viewPos;        // ç›¸æœºä½ç½®
```

### æ­¥éª¤ 3ï¼šå®ç°å…‰ç…§è®¡ç®—

```glsl
void main()
{
    // 1. ç¯å¢ƒå…‰
    vec3 ambient = light.ambient * material.ambient;
    
    // 2. æ¼«åå°„
    vec3 norm = normalize(Normal);
    vec3 lightDir = normalize(light.position - FragPos);
    float diff = max(dot(norm, lightDir), 0.0);
    vec3 diffuse = light.diffuse * (diff * material.diffuse);
    
    // 3. é•œé¢åå°„
    vec3 viewDir = normalize(viewPos - FragPos);
    vec3 reflectDir = reflect(-lightDir, norm);
    float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
    vec3 specular = light.specular * (spec * material.specular);
    
    // 4. æœ€ç»ˆé¢œè‰²
    vec3 result = ambient + diffuse + specular;
    FragColor = vec4(result, 1.0);
}
```

### æ­¥éª¤ 4ï¼šåœ¨ C++ ä¸­è®¾ç½® Uniform å˜é‡

```cpp
// è®¾ç½®å…‰æºå±æ€§
m_materialsShader->setVec3("light.position", m_lightPos);
m_materialsShader->setVec3("light.ambient", ambientColor);
m_materialsShader->setVec3("light.diffuse", diffuseColor);
m_materialsShader->setVec3("light.specular", 1.0f, 1.0f, 1.0f);

// è®¾ç½®æè´¨å±æ€§
m_materialsShader->setVec3("material.ambient", 1.0f, 0.5f, 0.31f);
m_materialsShader->setVec3("material.diffuse", 1.0f, 0.5f, 0.31f);
m_materialsShader->setVec3("material.specular", 0.5f, 0.5f, 0.5f);
m_materialsShader->setFloat("material.shininess", 32.0f);
```

**æ³¨æ„ï¼š**
- ä½¿ç”¨ `"light.ambient"` è¿™æ ·çš„ç‚¹å·è¯­æ³•è®¿é—®ç»“æ„ä½“æˆå‘˜
- Shader ç±»ä¼šè‡ªåŠ¨å¤„ç†ç»“æ„ä½“æˆå‘˜çš„è®¿é—®

---

## è¯¦ç»†ä»£ç è§£æ

### 1. ç‰‡æ®µç€è‰²å™¨è¯¦è§£

#### Material ç»“æ„ä½“

```glsl
struct Material {
    vec3 ambient;    // ç¯å¢ƒå…‰åå°„ç³»æ•°
    vec3 diffuse;    // æ¼«åå°„ç³»æ•°
    vec3 specular;    // é•œé¢åå°„ç³»æ•°
    float shininess; // é«˜å…‰æŒ‡æ•°
};
```

**å„å±æ€§çš„ä½œç”¨ï¼š**

1. **ambientï¼ˆç¯å¢ƒå…‰åå°„ç³»æ•°ï¼‰**
   - å®šä¹‰ç‰©ä½“å¯¹ç¯å¢ƒå…‰çš„åå°„èƒ½åŠ›
   - é€šå¸¸ä¸ç‰©ä½“çš„åŸºç¡€é¢œè‰²ç›¸åŒ
   - ç¤ºä¾‹ï¼š`(1.0, 0.5, 0.31)` - æ©™è‰²

2. **diffuseï¼ˆæ¼«åå°„ç³»æ•°ï¼‰**
   - å®šä¹‰ç‰©ä½“å¯¹æ¼«åå°„å…‰çš„åå°„èƒ½åŠ›
   - é€šå¸¸ä¸ç‰©ä½“çš„åŸºç¡€é¢œè‰²ç›¸åŒ
   - ç¤ºä¾‹ï¼š`(1.0, 0.5, 0.31)` - æ©™è‰²

3. **specularï¼ˆé•œé¢åå°„ç³»æ•°ï¼‰**
   - å®šä¹‰ç‰©ä½“å¯¹é•œé¢åå°„å…‰çš„åå°„èƒ½åŠ›
   - é€šå¸¸ä½¿ç”¨ç°è‰²æˆ–ç™½è‰²
   - ç¤ºä¾‹ï¼š`(0.5, 0.5, 0.5)` - ç°è‰²ï¼ˆé™ä½é•œé¢åå°„æ•ˆæœï¼‰

4. **shininessï¼ˆé«˜å…‰æŒ‡æ•°ï¼‰**
   - æ§åˆ¶é«˜å…‰çš„å¤§å°å’Œé”åº¦
   - å€¼è¶Šå¤§ï¼Œé«˜å…‰è¶Šå°è¶Šé”åˆ©
   - ç¤ºä¾‹ï¼š`32.0` - ä¸­ç­‰é«˜å…‰

#### Light ç»“æ„ä½“

```glsl
struct Light {
    vec3 position;   // å…‰æºä½ç½®
    vec3 ambient;    // ç¯å¢ƒå…‰é¢œè‰²
    vec3 diffuse;    // æ¼«åå°„é¢œè‰²
    vec3 specular;   // é•œé¢åå°„é¢œè‰²
};
```

**å„å±æ€§çš„ä½œç”¨ï¼š**

1. **positionï¼ˆå…‰æºä½ç½®ï¼‰**
   - å…‰æºåœ¨ä¸–ç•Œç©ºé—´ä¸­çš„ä½ç½®
   - ç”¨äºè®¡ç®—å…‰æºæ–¹å‘

2. **ambientï¼ˆç¯å¢ƒå…‰é¢œè‰²ï¼‰**
   - å…‰æºå‘å‡ºçš„ç¯å¢ƒå…‰é¢œè‰²
   - é€šå¸¸æ¯”æ¼«åå°„é¢œè‰²æš—ï¼ˆä¹˜ä»¥ 0.2ï¼‰

3. **diffuseï¼ˆæ¼«åå°„é¢œè‰²ï¼‰**
   - å…‰æºå‘å‡ºçš„æ¼«åå°„å…‰é¢œè‰²
   - é€šå¸¸æ˜¯å…‰æºçš„ä¸»è¦é¢œè‰²

4. **specularï¼ˆé•œé¢åå°„é¢œè‰²ï¼‰**
   - å…‰æºå‘å‡ºçš„é•œé¢åå°„å…‰é¢œè‰²
   - é€šå¸¸æ˜¯ç™½è‰² `(1.0, 1.0, 1.0)`

#### å…‰ç…§è®¡ç®—è¯¦è§£

```glsl
// 1. ç¯å¢ƒå…‰
vec3 ambient = light.ambient * material.ambient;
```

**è®¡ç®—è¿‡ç¨‹ï¼š**
```
ç¯å¢ƒå…‰ = å…‰æºçš„ç¯å¢ƒå…‰é¢œè‰² Ã— æè´¨çš„ç¯å¢ƒå…‰åå°„ç³»æ•°
```

**ç¤ºä¾‹ï¼š**
```
light.ambient = (0.1, 0.05, 0.03)  // æš—æ©™è‰²
material.ambient = (1.0, 0.5, 0.31)  // æ©™è‰²
ambient = (0.1, 0.05, 0.03) Ã— (1.0, 0.5, 0.31) = (0.1, 0.025, 0.0093)
```

```glsl
// 2. æ¼«åå°„
vec3 norm = normalize(Normal);
vec3 lightDir = normalize(light.position - FragPos);
float diff = max(dot(norm, lightDir), 0.0);
vec3 diffuse = light.diffuse * (diff * material.diffuse);
```

**è®¡ç®—è¿‡ç¨‹ï¼š**
1. å½’ä¸€åŒ–æ³•çº¿å‘é‡
2. è®¡ç®—å…‰æºæ–¹å‘ï¼ˆä»ç‰‡æ®µæŒ‡å‘å…‰æºï¼‰
3. è®¡ç®—ç‚¹ç§¯ï¼ˆæ³•çº¿å’Œå…‰æºæ–¹å‘çš„å¤¹è§’ï¼‰
4. ä½¿ç”¨ max ç¡®ä¿éè´Ÿå€¼
5. è®¡ç®—æ¼«åå°„ï¼š`å…‰æºçš„æ¼«åå°„é¢œè‰² Ã— (ç‚¹ç§¯ Ã— æè´¨çš„æ¼«åå°„ç³»æ•°)`

**ç¤ºä¾‹ï¼š**
```
light.diffuse = (0.5, 0.25, 0.15)  // æ©™è‰²å…‰æº
material.diffuse = (1.0, 0.5, 0.31)  // æ©™è‰²æè´¨
diff = 0.8  // å‡è®¾æ³•çº¿å’Œå…‰æºæ–¹å‘å¤¹è§’è¾ƒå°
diffuse = (0.5, 0.25, 0.15) Ã— (0.8 Ã— (1.0, 0.5, 0.31))
        = (0.5, 0.25, 0.15) Ã— (0.8, 0.4, 0.248)
        = (0.4, 0.1, 0.0372)
```

```glsl
// 3. é•œé¢åå°„
vec3 viewDir = normalize(viewPos - FragPos);
vec3 reflectDir = reflect(-lightDir, norm);
float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
vec3 specular = light.specular * (spec * material.specular);
```

**è®¡ç®—è¿‡ç¨‹ï¼š**
1. è®¡ç®—è§†è§’æ–¹å‘ï¼ˆä»ç‰‡æ®µæŒ‡å‘ç›¸æœºï¼‰
2. è®¡ç®—åå°„æ–¹å‘ï¼ˆå…‰æºæ–¹å‘å…³äºæ³•çº¿çš„åå°„ï¼‰
3. è®¡ç®—ç‚¹ç§¯ï¼ˆè§†è§’æ–¹å‘å’Œåå°„æ–¹å‘çš„å¤¹è§’ï¼‰
4. ä½¿ç”¨ pow å‡½æ•°è®¡ç®—é«˜å…‰å¼ºåº¦ï¼ˆshininess æ§åˆ¶é”åº¦ï¼‰
5. è®¡ç®—é•œé¢åå°„ï¼š`å…‰æºçš„é•œé¢åå°„é¢œè‰² Ã— (é«˜å…‰å¼ºåº¦ Ã— æè´¨çš„é•œé¢åå°„ç³»æ•°)`

**ç¤ºä¾‹ï¼š**
```
light.specular = (1.0, 1.0, 1.0)  // ç™½è‰²
material.specular = (0.5, 0.5, 0.5)  // ç°è‰²
spec = 0.3  // å‡è®¾è§†è§’æ¥è¿‘åå°„æ–¹å‘
specular = (1.0, 1.0, 1.0) Ã— (0.3 Ã— (0.5, 0.5, 0.5))
         = (1.0, 1.0, 1.0) Ã— (0.15, 0.15, 0.15)
         = (0.15, 0.15, 0.15)
```

```glsl
// 4. æœ€ç»ˆé¢œè‰²
vec3 result = ambient + diffuse + specular;
FragColor = vec4(result, 1.0);
```

**æœ€ç»ˆé¢œè‰² = ç¯å¢ƒå…‰ + æ¼«åå°„ + é•œé¢åå°„**

### 2. C++ ä»£ç è¯¦è§£

#### åŠ¨æ€å…‰æºé¢œè‰²

```cpp
// å…‰æºå±æ€§ï¼ˆé¢œè‰²éšæ—¶é—´å˜åŒ–ï¼‰
float currentTime = GetTime();
glm::vec3 lightColor;
lightColor.x = static_cast<float>(sin(currentTime * 2.0));
lightColor.y = static_cast<float>(sin(currentTime * 0.7));
lightColor.z = static_cast<float>(sin(currentTime * 1.3));
```

**è¯´æ˜ï¼š**
- ä½¿ç”¨ `sin` å‡½æ•°è®©å…‰æºé¢œè‰²åœ¨ -1 åˆ° 1 ä¹‹é—´å˜åŒ–
- ä¸åŒåˆ†é‡ä½¿ç”¨ä¸åŒçš„é¢‘ç‡ï¼Œäº§ç”Ÿå½©è‰²å˜åŒ–æ•ˆæœ
- X åˆ†é‡ï¼šé¢‘ç‡ 2.0ï¼ˆå‘¨æœŸçº¦ 3.14 ç§’ï¼‰
- Y åˆ†é‡ï¼šé¢‘ç‡ 0.7ï¼ˆå‘¨æœŸçº¦ 8.98 ç§’ï¼‰
- Z åˆ†é‡ï¼šé¢‘ç‡ 1.3ï¼ˆå‘¨æœŸçº¦ 4.83 ç§’ï¼‰

**æ³¨æ„ï¼š** `sin` å‡½æ•°çš„å€¼åœ¨ -1 åˆ° 1 ä¹‹é—´ï¼Œä½†é¢œè‰²å€¼åº”è¯¥åœ¨ 0 åˆ° 1 ä¹‹é—´ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œéœ€è¦è°ƒæ•´ï¼š

```cpp
// è®¡ç®—ç¯å¢ƒå…‰å’Œæ¼«åå°„é¢œè‰²ï¼ˆé™ä½å½±å“ï¼‰
glm::vec3 diffuseColor = lightColor * glm::vec3(0.5f);  // é™ä½åˆ° 0.5
glm::vec3 ambientColor = diffuseColor * glm::vec3(0.2f); // å†é™ä½åˆ° 0.2
```

è¿™æ ·ï¼š
- `diffuseColor` çš„èŒƒå›´æ˜¯ -0.5 åˆ° 0.5ï¼ˆä½†å®é™…ä½¿ç”¨æ—¶ä¼šè¢«é™åˆ¶ï¼‰
- `ambientColor` çš„èŒƒå›´æ˜¯ -0.1 åˆ° 0.1

**æ›´å¥½çš„åšæ³•ï¼š**
```cpp
// å°† sin çš„å€¼ä» [-1, 1] æ˜ å°„åˆ° [0, 1]
lightColor.x = (sin(currentTime * 2.0) + 1.0f) * 0.5f;
lightColor.y = (sin(currentTime * 0.7) + 1.0f) * 0.5f;
lightColor.z = (sin(currentTime * 1.3) + 1.0f) * 0.5f;
```

#### è®¾ç½®æè´¨å±æ€§

```cpp
// æè´¨å±æ€§
m_materialsShader->setVec3("material.ambient", 1.0f, 0.5f, 0.31f);   // æ©™è‰²
m_materialsShader->setVec3("material.diffuse", 1.0f, 0.5f, 0.31f);   // æ©™è‰²
m_materialsShader->setVec3("material.specular", 0.5f, 0.5f, 0.5f);   // ç°è‰²
m_materialsShader->setFloat("material.shininess", 32.0f);              // é«˜å…‰æŒ‡æ•°
```

**æè´¨è®¾ç½®è¯´æ˜ï¼š**

1. **ambient å’Œ diffuse ç›¸åŒ**
   - é€šå¸¸ç‰©ä½“çš„ç¯å¢ƒå…‰å’Œæ¼«åå°„é¢œè‰²ç›¸åŒ
   - éƒ½ä½¿ç”¨ç‰©ä½“çš„åŸºç¡€é¢œè‰²ï¼ˆæ©™è‰²ï¼‰

2. **specular ä½¿ç”¨ç°è‰²**
   - `(0.5, 0.5, 0.5)` è¡¨ç¤ºé•œé¢åå°„ç³»æ•°ä¸º 0.5
   - é™ä½é•œé¢åå°„çš„æ•ˆæœ
   - å¦‚æœä½¿ç”¨ `(1.0, 1.0, 1.0)`ï¼Œé•œé¢åå°„ä¼šæ›´å¼º

3. **shininess = 32.0**
   - ä¸­ç­‰çš„é«˜å…‰æŒ‡æ•°
   - å€¼è¶Šå¤§ï¼Œé«˜å…‰è¶Šå°è¶Šé”åˆ©
   - å€¼è¶Šå°ï¼Œé«˜å…‰è¶Šå¤§è¶ŠæŸ”å’Œ

---

## æ€è€ƒä¸æ€»ç»“

### 1. æè´¨ç³»ç»Ÿçš„ä¼˜åŠ¿

#### âœ… çµæ´»æ€§

**å¯ä»¥ä¸ºä¸åŒç‰©ä½“è®¾ç½®ä¸åŒçš„æè´¨ï¼š**
```cpp
// é‡‘å±æè´¨
material.ambient = (0.25, 0.25, 0.25);
material.diffuse = (0.4, 0.4, 0.4);
material.specular = (0.774597, 0.774597, 0.774597);
material.shininess = 76.8;

// å¡‘æ–™æè´¨
material.ambient = (0.0, 0.0, 0.0);
material.diffuse = (0.55, 0.55, 0.55);
material.specular = (0.70, 0.70, 0.70);
material.shininess = 32.0;

// æ©¡èƒ¶æè´¨
material.ambient = (0.02, 0.02, 0.02);
material.diffuse = (0.01, 0.01, 0.01);
material.specular = (0.4, 0.4, 0.4);
material.shininess = 10.0;
```

#### âœ… çœŸå®æ€§

**æ›´æ¥è¿‘çœŸå®æè´¨çš„è¡¨ç°ï¼š**
- é‡‘å±ï¼šé«˜é•œé¢åå°„ï¼Œä½æ¼«åå°„
- å¡‘æ–™ï¼šä¸­ç­‰é•œé¢åå°„å’Œæ¼«åå°„
- æœ¨å¤´ï¼šé«˜æ¼«åå°„ï¼Œä½é•œé¢åå°„
- å¸ƒæ–™ï¼šå‡ ä¹åªæœ‰æ¼«åå°„

#### âœ… ä»£ç ç»„ç»‡

**ä½¿ç”¨ç»“æ„ä½“ç»„ç»‡æ•°æ®ï¼š**
- ç›¸å…³æ•°æ®é›†ä¸­ç®¡ç†
- ä»£ç æ›´æ¸…æ™°
- æ˜“äºç»´æŠ¤å’Œæ‰©å±•

### 2. ä¸ Lesson 8 çš„æœ¬è´¨åŒºåˆ«

#### Lesson 8ï¼šç®€å•ä½†å—é™

```glsl
// æ‰€æœ‰å…‰ç…§åˆ†é‡ä½¿ç”¨ç›¸åŒçš„å…‰æºé¢œè‰²
vec3 ambient = ambientStrength * lightColor;
vec3 diffuse = diff * lightColor;
vec3 specular = specularStrength * spec * lightColor;
vec3 result = (ambient + diffuse + specular) * objectColor;
```

**ç‰¹ç‚¹ï¼š**
- ç®€å•ç›´æ¥
- æ‰€æœ‰å…‰ç…§åˆ†é‡å…±äº«åŒä¸€ä¸ªå…‰æºé¢œè‰²
- ç‰©ä½“é¢œè‰²åœ¨æœ€åç»Ÿä¸€åº”ç”¨

#### Lesson 9ï¼šå¤æ‚ä½†çµæ´»

```glsl
// æ¯ä¸ªå…‰ç…§åˆ†é‡ä½¿ç”¨ç‹¬ç«‹çš„å…‰æºé¢œè‰²å’Œæè´¨ç³»æ•°
vec3 ambient = light.ambient * material.ambient;
vec3 diffuse = light.diffuse * (diff * material.diffuse);
vec3 specular = light.specular * (spec * material.specular);
vec3 result = ambient + diffuse + specular;
```

**ç‰¹ç‚¹ï¼š**
- æ›´çµæ´»
- æ¯ä¸ªå…‰ç…§åˆ†é‡å¯ä»¥ç‹¬ç«‹æ§åˆ¶
- æè´¨å’Œå…‰æºå±æ€§åˆ†ç¦»

### 3. ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ

#### è®¾è®¡åŸåˆ™

1. **åˆ†ç¦»å…³æ³¨ç‚¹ï¼ˆSeparation of Concernsï¼‰**
   - æè´¨å±æ€§ï¼šç‰©ä½“çš„å›ºæœ‰å±æ€§
   - å…‰æºå±æ€§ï¼šå…‰æºçš„ç‰¹æ€§
   - ä¸¤è€…åˆ†ç¦»ï¼Œäº’ä¸å½±å“

2. **å¯ç»„åˆæ€§ï¼ˆComposabilityï¼‰**
   - åŒä¸€ä¸ªæè´¨å¯ä»¥ç”¨äºä¸åŒçš„å…‰æº
   - åŒä¸€ä¸ªå…‰æºå¯ä»¥ç…§äº®ä¸åŒçš„æè´¨
   - ç»„åˆæ–¹å¼çµæ´»

3. **å¯æ‰©å±•æ€§ï¼ˆExtensibilityï¼‰**
   - æ˜“äºæ·»åŠ æ–°çš„æè´¨å±æ€§
   - æ˜“äºæ·»åŠ æ–°çš„å…‰æºç±»å‹
   - ç»“æ„ä½“å¯ä»¥è½»æ¾æ‰©å±•

### 4. å®é™…åº”ç”¨åœºæ™¯

#### åœºæ™¯ 1ï¼šä¸åŒæè´¨çš„ç‰©ä½“

```cpp
// æ¸²æŸ“é‡‘å±ç‰©ä½“
SetMaterial(metalMaterial);
DrawObject(metalObject);

// æ¸²æŸ“å¡‘æ–™ç‰©ä½“
SetMaterial(plasticMaterial);
DrawObject(plasticObject);

// æ¸²æŸ“æœ¨å¤´ç‰©ä½“
SetMaterial(woodMaterial);
DrawObject(woodObject);
```

#### åœºæ™¯ 2ï¼šä¸åŒé¢œè‰²çš„å…‰æº

```cpp
// çº¢è‰²å…‰æº
light.ambient = (0.1, 0.0, 0.0);
light.diffuse = (0.5, 0.0, 0.0);
light.specular = (1.0, 1.0, 1.0);

// è“è‰²å…‰æº
light.ambient = (0.0, 0.0, 0.1);
light.diffuse = (0.0, 0.0, 0.5);
light.specular = (1.0, 1.0, 1.0);
```

#### åœºæ™¯ 3ï¼šåŠ¨æ€å…‰æºé¢œè‰²

```cpp
// å…‰æºé¢œè‰²éšæ—¶é—´å˜åŒ–
lightColor.x = sin(time * 2.0);
lightColor.y = sin(time * 0.7);
lightColor.z = sin(time * 1.3);
```

### 5. å¸¸è§æè´¨å‚æ•°å‚è€ƒ

#### é‡‘å±æè´¨

```cpp
Material metal;
metal.ambient = glm::vec3(0.25f, 0.25f, 0.25f);
metal.diffuse = glm::vec3(0.4f, 0.4f, 0.4f);
metal.specular = glm::vec3(0.774597f, 0.774597f, 0.774597f);
metal.shininess = 76.8f;
```

**ç‰¹ç‚¹ï¼š**
- é«˜é•œé¢åå°„
- ä½æ¼«åå°„
- é«˜ shininessï¼ˆé«˜å…‰é”åˆ©ï¼‰

#### å¡‘æ–™æè´¨

```cpp
Material plastic;
plastic.ambient = glm::vec3(0.0f, 0.0f, 0.0f);
plastic.diffuse = glm::vec3(0.55f, 0.55f, 0.55f);
plastic.specular = glm::vec3(0.70f, 0.70f, 0.70f);
plastic.shininess = 32.0f;
```

**ç‰¹ç‚¹ï¼š**
- ä¸­ç­‰é•œé¢åå°„å’Œæ¼«åå°„
- ä¸­ç­‰ shininess

#### æ©¡èƒ¶æè´¨

```cpp
Material rubber;
rubber.ambient = glm::vec3(0.02f, 0.02f, 0.02f);
rubber.diffuse = glm::vec3(0.01f, 0.01f, 0.01f);
rubber.specular = glm::vec3(0.4f, 0.4f, 0.4f);
rubber.shininess = 10.0f;
```

**ç‰¹ç‚¹ï¼š**
- ä½åå°„ç³»æ•°
- ä½ shininessï¼ˆé«˜å…‰æŸ”å’Œï¼‰

### 6. æ€§èƒ½è€ƒè™‘

#### è®¡ç®—å¤æ‚åº¦

**Lesson 8ï¼š**
- 3 æ¬¡å‘é‡ä¹˜æ³•
- 1 æ¬¡æ ‡é‡ä¹˜æ³•
- ç›¸å¯¹ç®€å•

**Lesson 9ï¼š**
- 3 æ¬¡å‘é‡ä¹˜æ³•ï¼ˆç›¸åŒï¼‰
- ç»“æ„ä½“è®¿é—®ï¼ˆå¼€é”€å¾ˆå°ï¼‰
- è®¡ç®—å¤æ‚åº¦åŸºæœ¬ç›¸åŒ

**ç»“è®ºï¼š** æ€§èƒ½å·®å¼‚å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†çµæ´»æ€§å¤§å¤§æå‡ã€‚

### 7. æœ€ä½³å®è·µ

#### âœ… æ¨èåšæ³•

1. **ä½¿ç”¨ç»“æ„ä½“ç»„ç»‡æ•°æ®**
   ```glsl
   struct Material { ... };
   struct Light { ... };
   ```

2. **ä¸ºä¸åŒæè´¨åˆ›å»ºé¢„è®¾**
   ```cpp
   Material GetMetalMaterial() { ... }
   Material GetPlasticMaterial() { ... }
   Material GetWoodMaterial() { ... }
   ```

3. **åˆ†ç¦»æè´¨å’Œå…‰æºå±æ€§**
   - æè´¨æ˜¯ç‰©ä½“çš„å±æ€§
   - å…‰æºæ˜¯åœºæ™¯çš„å±æ€§

4. **ä½¿ç”¨åˆç†çš„é»˜è®¤å€¼**
   - ambient å’Œ diffuse é€šå¸¸ç›¸åŒ
   - specular é€šå¸¸ä½¿ç”¨ç°è‰²æˆ–ç™½è‰²
   - shininess æ ¹æ®æè´¨ç±»å‹è®¾ç½®

#### âŒ é¿å…çš„åšæ³•

1. **ä¸è¦ç¡¬ç¼–ç æè´¨å±æ€§**
   ```cpp
   // âŒ ä¸å¥½
   vec3 ambient = 0.1 * lightColor * vec3(1.0, 0.5, 0.31);
   
   // âœ… å¥½
   vec3 ambient = light.ambient * material.ambient;
   ```

2. **ä¸è¦æ··åˆæè´¨å’Œå…‰æºå±æ€§**
   ```cpp
   // âŒ ä¸å¥½
   uniform vec3 materialAndLightColor;
   
   // âœ… å¥½
   uniform Material material;
   uniform Light light;
   ```

---

## æ€»ç»“

### Lesson 9 çš„æ ¸å¿ƒä»·å€¼

1. **å¼•å…¥æè´¨ç³»ç»Ÿ**ï¼šå°†ç‰©ä½“é¢œè‰²å’Œå…‰æºé¢œè‰²åˆ†ç¦»
2. **ä½¿ç”¨ç»“æ„ä½“**ï¼šæ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†æ•°æ®
3. **æé«˜çµæ´»æ€§**ï¼šå¯ä»¥ä¸ºä¸åŒç‰©ä½“è®¾ç½®ä¸åŒçš„æè´¨å±æ€§
4. **å¢å¼ºçœŸå®æ€§**ï¼šæ›´æ¥è¿‘çœŸå®æè´¨çš„è¡¨ç°

### ä» Lesson 8 åˆ° Lesson 9 çš„è¿›æ­¥

| æ–¹é¢ | Lesson 8 | Lesson 9 |
|------|----------|----------|
| **æ•°æ®ç»„ç»‡** | åˆ†æ•£çš„ uniform å˜é‡ | ç»“æ„åŒ–çš„ Material å’Œ Light |
| **çµæ´»æ€§** | ä½ | é«˜ |
| **çœŸå®æ€§** | ä¸­ç­‰ | é«˜ |
| **å¯ç»´æŠ¤æ€§** | ä¸­ç­‰ | é«˜ |
| **å¯æ‰©å±•æ€§** | ä½ | é«˜ |

### å…³é”®æ”¶è·

1. âœ… **ç†è§£äº†æè´¨ç³»ç»Ÿçš„é‡è¦æ€§**ï¼šä¸ºä»€ä¹ˆéœ€è¦åˆ†ç¦»æè´¨å’Œå…‰æºå±æ€§
2. âœ… **æŒæ¡äº†ç»“æ„ä½“çš„ä½¿ç”¨**ï¼šå¦‚ä½•åœ¨ GLSL ä¸­å®šä¹‰å’Œä½¿ç”¨ç»“æ„ä½“
3. âœ… **å­¦ä¼šäº†æè´¨å±æ€§çš„è®¾ç½®**ï¼šå¦‚ä½•ä¸ºä¸åŒæè´¨è®¾ç½®åˆé€‚çš„å‚æ•°
4. âœ… **ç†è§£äº†å…‰ç…§è®¡ç®—çš„æ”¹è¿›**ï¼šä»ç®€å•ä¹˜æ³•åˆ°ç‹¬ç«‹æ§åˆ¶æ¯ä¸ªåˆ†é‡

### ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘

1. **å…‰ç…§è´´å›¾ï¼ˆLight Mapsï¼‰**
   - ä½¿ç”¨çº¹ç†æ§åˆ¶æè´¨å±æ€§
   - æ¼«åå°„è´´å›¾ã€é•œé¢åå°„è´´å›¾

2. **å¤šå…‰æºç³»ç»Ÿ**
   - å¤šä¸ªç‚¹å…‰æº
   - æ–¹å‘å…‰ã€èšå…‰ç¯

3. **åŸºäºç‰©ç†çš„æ¸²æŸ“ï¼ˆPBRï¼‰**
   - æ›´çœŸå®çš„å…‰ç…§æ¨¡å‹
   - èƒ½é‡å®ˆæ’
   - æ›´å¤æ‚çš„æè´¨å±æ€§

---

## å®éªŒå»ºè®®

### å®éªŒ 1ï¼šæ”¹å˜æè´¨å±æ€§

```cpp
// å°è¯•ä¸åŒçš„æè´¨å±æ€§
material.ambient = (1.0, 0.0, 0.0);   // çº¢è‰²
material.diffuse = (0.0, 1.0, 0.0);   // ç»¿è‰²
material.specular = (0.0, 0.0, 1.0);  // è“è‰²
```

è§‚å¯Ÿæ•ˆæœçš„å˜åŒ–ï¼

### å®éªŒ 2ï¼šæ”¹å˜é«˜å…‰æŒ‡æ•°

```cpp
material.shininess = 8.0;   // å¤§è€ŒæŸ”å’Œçš„é«˜å…‰
material.shininess = 32.0;  // ä¸­ç­‰é«˜å…‰
material.shininess = 128.0; // å°è€Œé”åˆ©çš„é«˜å…‰
```

### å®éªŒ 3ï¼šæ”¹å˜é•œé¢åå°„ç³»æ•°

```cpp
material.specular = (0.0, 0.0, 0.0);  // æ— é•œé¢åå°„
material.specular = (0.5, 0.5, 0.5);  // ä¸­ç­‰é•œé¢åå°„
material.specular = (1.0, 1.0, 1.0);  // å¼ºé•œé¢åå°„
```

### å®éªŒ 4ï¼šåˆ›å»ºä¸åŒæè´¨çš„é¢„è®¾

```cpp
Material CreateMetalMaterial() {
    Material m;
    m.ambient = glm::vec3(0.25f, 0.25f, 0.25f);
    m.diffuse = glm::vec3(0.4f, 0.4f, 0.4f);
    m.specular = glm::vec3(0.774597f, 0.774597f, 0.774597f);
    m.shininess = 76.8f;
    return m;
}
```

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆ ambient å’Œ diffuse é€šå¸¸ç›¸åŒï¼Ÿ

**A:** åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç‰©ä½“çš„ç¯å¢ƒå…‰åå°„å’Œæ¼«åå°„é¢œè‰²æ˜¯ç›¸åŒçš„ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä»£è¡¨ç‰©ä½“çš„åŸºç¡€é¢œè‰²ã€‚ä½†åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ï¼ˆä¾‹å¦‚æŸäº›ç‰¹æ®Šæè´¨ï¼‰ï¼Œå®ƒä»¬å¯èƒ½ä¸åŒã€‚

### Q2: specular ä¸ºä»€ä¹ˆä½¿ç”¨ç°è‰²è€Œä¸æ˜¯ç‰©ä½“çš„é¢œè‰²ï¼Ÿ

**A:** é•œé¢åå°„é€šå¸¸äº§ç”Ÿç™½è‰²æˆ–ç°è‰²çš„é«˜å…‰ï¼Œè€Œä¸æ˜¯ç‰©ä½“çš„é¢œè‰²ã€‚è¿™æ˜¯å› ä¸ºé•œé¢åå°„æ¨¡æ‹Ÿçš„æ˜¯å…‰çº¿åœ¨å…‰æ»‘è¡¨é¢çš„åå°„ï¼Œè€Œä¸æ˜¯ç‰©ä½“æœ¬èº«çš„é¢œè‰²ã€‚ä½¿ç”¨ç°è‰²å¯ä»¥é™ä½é•œé¢åå°„çš„å¼ºåº¦ï¼Œä½¿å…¶æ›´è‡ªç„¶ã€‚

### Q3: shininess çš„å€¼åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ

**A:** 
- **ä½å€¼ï¼ˆ8-16ï¼‰**ï¼šå¤§è€ŒæŸ”å’Œçš„é«˜å…‰ï¼Œé€‚åˆæ©¡èƒ¶ã€å¸ƒæ–™ç­‰
- **ä¸­å€¼ï¼ˆ32-64ï¼‰**ï¼šä¸­ç­‰é«˜å…‰ï¼Œé€‚åˆå¡‘æ–™ã€æœ¨å¤´ç­‰
- **é«˜å€¼ï¼ˆ128-256ï¼‰**ï¼šå°è€Œé”åˆ©çš„é«˜å…‰ï¼Œé€‚åˆé‡‘å±ã€ç»ç’ƒç­‰

### Q4: ä¸ºä»€ä¹ˆå…‰æºçš„ ambient å’Œ diffuse é¢œè‰²ä¸åŒï¼Ÿ

**A:** åœ¨ Lesson 9 çš„ç¤ºä¾‹ä¸­ï¼Œambient å’Œ diffuse é¢œè‰²ä¸åŒæ˜¯ä¸ºäº†å±•ç¤ºæè´¨ç³»ç»Ÿçš„çµæ´»æ€§ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼š
- ambient é€šå¸¸æ˜¯ diffuse çš„ 0.2 å€ï¼ˆæ›´æš—ï¼‰
- è¿™æ ·å¯ä»¥æ¨¡æ‹Ÿç¯å¢ƒå…‰é€šå¸¸æ¯”ç›´æ¥å…‰ç…§æš—çš„æ•ˆæœ

---

## ä»£ç å¯¹æ¯”ç¤ºä¾‹

### Lesson 8 çš„å®Œæ•´å…‰ç…§è®¡ç®—

```glsl
// ç¯å¢ƒå…‰
float ambientStrength = 0.1;
vec3 ambient = ambientStrength * lightColor;

// æ¼«åå°„
vec3 norm = normalize(Normal);
vec3 lightDir = normalize(lightPos - FragPos);
float diff = max(dot(norm, lightDir), 0.0);
vec3 diffuse = diff * lightColor;

// é•œé¢åå°„
float specularStrength = 0.5;
vec3 viewDir = normalize(viewPos - FragPos);
vec3 reflectDir = reflect(-lightDir, norm);
float spec = pow(max(dot(viewDir, reflectDir), 0.0), 32);
vec3 specular = specularStrength * spec * lightColor;

// æœ€ç»ˆé¢œè‰²
vec3 result = (ambient + diffuse + specular) * objectColor;
FragColor = vec4(result, 1.0);
```

### Lesson 9 çš„å®Œæ•´å…‰ç…§è®¡ç®—

```glsl
// ç¯å¢ƒå…‰
vec3 ambient = light.ambient * material.ambient;

// æ¼«åå°„
vec3 norm = normalize(Normal);
vec3 lightDir = normalize(light.position - FragPos);
float diff = max(dot(norm, lightDir), 0.0);
vec3 diffuse = light.diffuse * (diff * material.diffuse);

// é•œé¢åå°„
vec3 viewDir = normalize(viewPos - FragPos);
vec3 reflectDir = reflect(-lightDir, norm);
float spec = pow(max(dot(viewDir, reflectDir), 0.0), material.shininess);
vec3 specular = light.specular * (spec * material.specular);

// æœ€ç»ˆé¢œè‰²
vec3 result = ambient + diffuse + specular;
FragColor = vec4(result, 1.0);
```

**å…³é”®åŒºåˆ«ï¼š**
- Lesson 8ï¼šæ‰€æœ‰å…‰ç…§åˆ†é‡å…±äº« `lightColor`ï¼Œæœ€åç»Ÿä¸€ä¹˜ä»¥ `objectColor`
- Lesson 9ï¼šæ¯ä¸ªå…‰ç…§åˆ†é‡ä½¿ç”¨ç‹¬ç«‹çš„å…‰æºé¢œè‰²å’Œæè´¨ç³»æ•°

---

## æœ€ç»ˆæ€»ç»“

Lesson 9 çš„æè´¨ç³»ç»Ÿæ˜¯å…‰ç…§ç³»ç»Ÿçš„é‡è¦è¿›æ­¥ï¼š

1. **ä»ç®€å•åˆ°å¤æ‚**ï¼šä»å•ä¸€é¢œè‰²åˆ°ç»“æ„åŒ–çš„æè´¨å’Œå…‰æºå±æ€§
2. **ä»å›ºå®šåˆ°çµæ´»**ï¼šä»ç¡¬ç¼–ç åˆ°å¯é…ç½®çš„æè´¨å‚æ•°
3. **ä»å•ä¸€åˆ°å¤šæ ·**ï¼šä»ä¸€ç§æè´¨åˆ°å¤šç§æè´¨æ”¯æŒ
4. **ä»åŸºç¡€åˆ°è¿›é˜¶**ï¼šä¸ºå­¦ä¹ æ›´é«˜çº§çš„æ¸²æŸ“æŠ€æœ¯æ‰“ä¸‹åŸºç¡€

**æ ¸å¿ƒæ€æƒ³ï¼š**
- æè´¨å®šä¹‰ç‰©ä½“å¦‚ä½•åå°„å…‰çº¿
- å…‰æºå®šä¹‰å…‰çº¿æœ¬èº«çš„å±æ€§
- ä¸¤è€…åˆ†ç¦»ï¼Œçµæ´»ç»„åˆ

è¿™å°±æ˜¯æè´¨ç³»ç»Ÿçš„ç²¾é«“ï¼

